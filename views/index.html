<!DOCTYPE html>
<html>

<head>
    <title>Exercise Tracker | Free Code Camp</title>
    <link rel="shortcut icon" href="https://cdn.hyperdev.com/us-east-1%3A52a203ff-088b-420f-81be-45bf559d01b1%2Ffavicon.ico" type="image/x-icon"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
    <link href="/public/style.css" rel="stylesheet" type="text/css">
</head>

<body>
<div class="container">
    <h1>Exercise tracker</h1>
    <form action="/api/exercise/new-user" method="post">
        <h3>Create a New User</h3>
        <p><code>POST /api/exercise/new-user</code></p>
        <input id="uname" type="text" name="username" placeholder="username">
        <input type="submit" value="Submit">
    </form>
    <form action="/api/exercise/add" method="post">
        <h3>Add exercises</h3>
        <p><code>POST /api/exercise/add</code></p>
        <select id="uid" name="userId" ></select>
        <input id="desc" type="text" name="description" placeholder="description*">
        <input id="dur" type="text" name="duration" placeholder="duration* (mins.)">
        <input id="dat" type="text" name="date" placeholder="date (yyyy-mm-dd)">
        <input type="submit" value="Submit">
    </form>
    <p><strong>GET users's exercise log: </strong><code>GET /api/exercise/log?{userId}[&amp;from][&amp;to][&amp;limit]</code></p>
    <p><strong>{ }</strong> = required, <strong>[ ]</strong> = optional</p>
    <p><strong>from, to</strong> = dates (yyyy-mm-dd); <strong>limit</strong> = number</p>
</div>

<script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script type="text/javascript">
    $.getJSON( "/api/exercise/users", function( data ) {
        var items = [];
        $.each( data, function( key, val ) {
            items.push( "<option value='" + val.id + "'>" + val.username + "</option>" );
        });

        $( "#uid").append(items.join(''));
    });
</script>
</body>

</html>